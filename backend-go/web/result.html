{{ if .Error }}
    <div class="bg-red-100 border-l-4 border-red-600 p-4 text-red-700 font-bold uppercase text-xs">
        [Falha Crítica] {{ .Error }}
    </div>
{{ else }}
<div class="animate-in fade-in duration-500">
    <div class="data-grid mb-8">
        <div class="grid-cell">
            <span class="label text-[10px] font-black uppercase text-gray-400">Status do Sistema</span>
            <span class="text-xl font-bold uppercase">{{ .Response.Status }}</span>
        </div>
        <div class="grid-cell">
            <span class="label text-[10px] font-black uppercase text-gray-400">Orçamento Aplicado</span>
            <span class="text-xl font-black swiss-red">ε {{ printf "%.1f" .Response.EpsilonUsed }}</span>
        </div>
        <div class="grid-cell">
            <span class="label text-[10px] font-black uppercase text-gray-400">Privacy Score (1-Risk)</span>
            <span class="text-4xl font-black italic tracking-tighter">{{ printf "%.4f" .Response.PrivacyScore }}</span>
        </div>
        <div class="grid-cell">
            <span class="label text-[10px] font-black uppercase text-gray-400">Data Utility (JSD)</span>
            <span class="text-4xl font-black italic tracking-tighter">{{ printf "%.4f" .Response.UtilityScore }}</span>
        </div>
    </div>

    <div class="mb-8">
        <h4 class="text-[10px] font-black uppercase mb-4 border-b border-black">PII Report / LGPD Compliance</h4>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
            {{ range $col, $type := .Response.PiiReport }}
            <div class="flex justify-between border-b border-gray-200 py-2 text-xs">
                <span class="font-bold uppercase">{{ $col }}</span>
                <span class="font-mono text-gray-500">{{ $type }}</span>
            </div>
            {{ end }}
        </div>
    </div>

    <div class="flex justify-end">
        <a href="/data/{{.Response.OutputPath}}" download 
           class="inline-block border-2 border-black px-8 py-4 font-black uppercase tracking-tighter hover:bg-black hover:text-white transition-all">
            Download Parquet Result
        </a>
    </div>
</div>
{{ end }}